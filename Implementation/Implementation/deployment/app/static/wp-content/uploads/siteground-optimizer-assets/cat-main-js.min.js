(function(a){"use strict";a(document).ready(function(){a.each(a('.ct-marker-search-form'),function(e,b){var d=a(b).find('.ct-marker-search-input').get(0),c=new google.maps.places.SearchBox(d);c.addListener('places_changed',function(){var d=c.getPlaces();console.log(d),d.forEach(function(c,d){if(!c.geometry||d>0)return;a(b).find("#ct-marker-search-lat").val(c.geometry.location.lat()),a(b).find("#ct-marker-search-lng").val(c.geometry.location.lng())})})}),a(".btn-marker-category").on("click",function(){a(".btn-marker-category").removeClass("active"),a(this).addClass("active");var b=a(this).data("target");a(b).trigger("click")}),a(".ct-marker-search-button").on("click",function(){var d,b,c;if(a("#ct-marker-search-input").val()==="")return a("#ct-marker-search-input").addClass("input-empty"),!1;a("#ct-marker-search-input").removeClass("input-empty"),d=a(this).parents("form").get(0),b=new FormData(d);for(c of b.entries())console.log(c[0]+', '+c[1]);b.append("action","get_search_result_ajax"),a.ajax({url:cat_ajax_url,type:"POST",beforeSend:function(){},data:b,contentType:!1,processData:!1}).done(function(a){a.status?window.location.href=a.url:alert(a.message)}).fail(function(a){console.error(a)}).always(function(){})}),a(".ct-marker-search-results .ct-marker-pagination a").on("click",function(){var b=a(this),c,d,e,f,g;if(b.hasClass("disable"))return!1;c=b.data("page"),d=a("#results-limitation").val(),e=a("#search-within-radius").val(),f=window.location.origin+window.location.pathname,g=URI(f).search({page:c,limit:d,radius:e}).toString(),window.location.href=g}),a("#results-limitation").on("change",function(){var b=a("#results-page-input").data("page"),c=a(this).val(),d=a("#search-within-radius").val(),e=window.location.origin+window.location.pathname,f=URI(e).search({page:b,limit:c,radius:d}).toString();window.location.href=f}),a("#search-within-radius").on("change",function(){var b=a("#results-page-input").data("page"),c=a("#results-limitation").val(),d=a(this).val(),e=window.location.origin+window.location.pathname,f=URI(e).search({page:b,limit:c,radius:d}).toString();window.location.href=f}),a("#results-page-input").keypress(function(g){var b,c,d,e,f;g.which===13&&(b=a("#results-page-input").data("page"),c=a("#results-limitation").val(),d=a("#search-within-radius").val(),e=window.location.origin+window.location.pathname,f=URI(e).search({page:b,limit:c,radius:d}).toString(),window.location.href=f)})})})(jQuery)